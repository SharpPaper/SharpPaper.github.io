webpackJsonp([1],{"+9Zi":function(t,e){},"09yM":function(t,e){},"4Ow/":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("kV13"),s={name:"App",data:function(){return{msg:"实时热点"}},methods:{goBack:function(){this.$router.go(-1)},pageChange:function(t){"news-item"===t&&(this.msg="热点详情")}},computed:{isBack:function(){return console.log(this.$route.path),["/"].indexOf(this.$route.path)<0}},watch:{$route:function(t,e){"NewsList"===t.name&&(this.msg="实时热点")}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",{staticStyle:{heigth:"100%",direction:"vertical"}},[n("el-header",{attrs:{height:"45px"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"menu"},[t.isBack?n("i",{staticClass:"el-icon-back head-icon",on:{click:t.goBack}}):n("i",{staticClass:"el-icon-menu head-icon"})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.msg))])])]),t._v(" "),n("el-main",{staticStyle:{width:"100%"}},[n("router-view",{staticStyle:{width:"100%"},on:{"change-page":t.pageChange}})],1)],1)],1)},staticRenderFns:[]};var o=n("C7Lr")(s,a,!1,function(t){n("4Ow/")},"data-v-1c6aff7c",null).exports,r=n("p7sN"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))])])},staticRenderFns:[]};n("C7Lr")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},l,!1,function(t){n("R18s")},"data-v-5346194b",null).exports;var u={name:"NewsItem",data:function(){return{url:""}},created:function(){this.$emit("change-page","news-item"),this.url=this.$route.query.url,console.log(this.url)},mounted:function(){var t=this.$refs.view,e=(t.contentDocument||t.document,window.outerHeight-45);t.height=e}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item"},[e("iframe",{ref:"view",staticClass:"view",attrs:{src:this.url}})])},staticRenderFns:[]};var d=n("C7Lr")(u,c,!1,function(t){n("TDAi")},null,null).exports,h={name:"NewsList",data:function(){return{msg:"实时热点",newsList:[],srcList:[],wrapperHeight:0}},methods:{refresh:function(){var t=this;this.$ajax.get("GetNewsList").then(function(e){t.srcList=[],e.data.forEach(function(e){e.image?t.srcList.push(e.image):e.image=""}),t.newsList=e.data}).finally(function(){t.$refs.verticalpull.onDownFunc()})},pulldown:function(){this.refresh()},show:function(){}},created:function(){console.log("created")},mounted:function(){console.log("mounted"),this.refresh()}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vertical-pull",{ref:"verticalpull",attrs:{"down-func":t.pulldown}},[n("ul",t._l(t.newsList,function(e,i){return n("li",{key:i},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"pic"},[n("el-image",{staticClass:"image",attrs:{src:e.image,fit:"scale-down","preview-src-list":t.srcList}},[n("div",{attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-picture-outline"})])])],1)]),t._v(" "),n("el-col",{attrs:{span:18}},[n("div",{staticClass:"introduction"},[e.link?n("router-link",{staticClass:"item-title",attrs:{to:{path:"/NewsItem",query:{url:e.link}}}},[t._v(t._s(e.keyword)+">>")]):n("router-link",{staticClass:"item-title",attrs:{to:{path:"/NewsItem",query:{url:"https://www.baidu.com/s?wd="+e.keyword}}}},[t._v(t._s(e.keyword)+" "),n("i",{staticClass:"el-icon-search"})]),t._v(" "),n("p",{staticClass:"description"},[t._v(t._s(e.title))])],1)])],1),t._v(" "),n("el-divider")],1)}),0)])},staticRenderFns:[]};var f=n("C7Lr")(h,p,!1,function(t){n("t7X1")},"data-v-db5c743a",null).exports;i.default.use(r.a);var w=new r.a({routes:[{path:"/",name:"NewsList",component:f},{path:"/NewsItem",name:"NewsItem",component:d}]}),v=n("TcQY"),m=n.n(v),g=(n("09yM"),n("x7Ey")),T=n.n(g);i.default.use(v.Loading.directive),i.default.prototype.$loading=v.Loading.service;var _={name:"vertical-pull",props:{downPullText:{type:String,default:"下拉刷新"},downDropText:{type:String,default:"释放刷新"},downLoadingText:{type:String,default:"加载中..."},downFunc:{type:Function},upPullText:{type:String,default:"上拉加载"},upDropText:{type:String,default:"释放加载"},upLoadingText:{type:String,default:"加载中..."},upFunc:{type:Function},distance:{type:Number,default:70}},data:function(){return{loading:!0,translate:0,downText:"",downDropped:!1,upText:"",upDropped:!1,direction:"",startY:0,startScrollTop:0,currentY:0,downStatus:"",upStatus:""}},computed:{transform:function(){return 0===this.translate?null:"translate3d(0, "+this.translate+"px, 0)"}},watch:{downStatus:function(t){switch(console.log(t),t){case"drop":this.downText=this.downDropText;break;case"loading":this.downText=this.downLoadingText;break;default:this.downText=this.downPullText}}},methods:{onDownFunc:function(){var t=this;this.translate=0,setTimeout(function(){t.downStatus="pull"},200)},init:function(){this.downText=this.downPullText,"function"==typeof this.downFunc&&this.bindTouchEvents()},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},handleTouchStart:function(t){this.startY=t.touches[0].clientY,"loading"!==this.downStatus&&(this.downStatus="pull",this.downDropped=!1),"loading"!==this.upStatus&&(this.upStatus="pull",this.upDropped=!1)},handleTouchMove:function(t){if(!((document.documentElement.scrollTop||document.body.scrollTop)>0||this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/2;this.direction=e>0?"down":"up","function"==typeof this.downFunc&&"down"===this.direction&&"loading"!==this.downStatus&&(t.preventDefault(),t.stopPropagation(),this.translate=e,this.downStatus=this.translate>80?"drop":"pull")}},handleTouchEnd:function(t){"down"===this.direction&&this.translate>0&&(this.downDropped=!0,"drop"===this.downStatus?(this.translate="50",this.downStatus="loading",this.downFunc()):(this.translate="0",this.downStatus="pull"))}},mounted:function(){this.init()}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",style:{transform:t.transform}},[t.downFunc?n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"down-pull",attrs:{"element-loading-text":t.downText||t.upText,"element-loading-spinner":"el-icon-loading"}}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.upFunc?n("div",{staticClass:"up-pull"}):t._e()],2)},staticRenderFns:[]};var x=n("C7Lr")(_,y,!1,function(t){n("+9Zi")},null,null).exports,C=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||e.component(x.name,x)};"undefined"!=typeof window&&window.Vue&&C(window.Vue);var L={install:C,version:"1.0.0",VerticalPull:x},S=n("YeVJ"),$=n.n(S);i.default.directive("resize",{bind:function(t,e){var n=e.value,i=void 0===n?{}:n;t.addEventListener("load",function(){$()(i,t)})}}),i.default.use(v.Loading.directive),i.default.prototype.$loading=v.Loading.service,i.default.config.productionTip=!1,i.default.use(m.a),i.default.prototype.$ajax=T.a.create({baseURL:"https://47.111.85.187:8011/",timeout:6e3}),i.default.use(L),new i.default({el:"#app",router:w,components:{App:o},template:"<App/>"})},R18s:function(t,e){},TDAi:function(t,e){},t7X1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bf84a49cc876857102b2.js.map